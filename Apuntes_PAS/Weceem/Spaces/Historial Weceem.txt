HISTORIAL DE SPACE WECEEM
=========================
Basic_20140618: Tiene la sección del Buscador y la de pruebas para automatizar el recorrido de carpetas.
Basic_20140620: Tiene el menú automatizado en el template "Menú Automatizado". En el template también utiliza un tag personalizado, que podría fallar en otro Weceem.
Basic_20140620_1355: En el template de automatización 2 hay mejoras sobre desplegar un menú y ocultar otros.
					 En el template de automatización 1 se ha mejorado la forma de conseguir el número de menús de manera automática.

Test_local_20140627_1321: contiene los menus en formato widget
Basic_local_20140621_1322: contiene la barra del peu ok
AutoB_20140630: Contiene una versión que genera de manera correcta los enlaces de gestión, admin, etc en la barra de estado superior. Pone el pie en su lugar correcto.
				Se ha tenido que eliminar la restricción de que sólo los folder pueden ser desplegables (se elimina la condición 35, "consultar Menu_dslp_restric_folder)".

Test_local_20140627_1321: contiene los menus en formato widget
Basic_local_20140621_1322: contiene la barra del peu ok
PAS_20140710_1000_merlot: copia a partir de la que se empieza a diseñar que se muestre el contenido de las carpetas.
PAS_20140710_1230_local: algunos avnces en mostrar el interior de las carpetas. Uso de General Index para cada template.
A partir de aquí ya NO se quiere mostrar el interior de las carpetas.
PAS_20140709_0850_merlot: Space que parte desde cero en el que se han incluído widgets, templates e imágenes para empezar a desarrollar.
PAS_20140711_0820_merlot: Se pretende que todo cuelgue del HTML index. Antes de continuar con los cambios, se hace esta copia de seguridad.

Test3_20140716_1221_local: tiene los desplegables que se iluminan. Pasa "tipusMenu" e "itemSelected" como referencias. Para que funcione el BreadCrumb se necesita tener el código de la siguiente manera en el WeceemTaglib:
	//INI - REV-002 BREADCRUMB
	def breadcrumbMain = { attrs, body ->
		def node = request[RenderEngine.REQUEST_ATTRIBUTE_NODE]
		def lineage = request[RenderEngine.REQUEST_ATTRIBUTE_PAGE].lineage
		def div = (attrs.divider != null) ? attrs.divider.decodeHTML() : ' &gt; '
		def first = true
		if (!attrs.custom?.toString()?.toBoolean()) {
			body = { args ->
				def o = new StringBuilder()
				if (!args.first) {
					o << div
				}

				def title = args.breadcrumbNode.titleForMenu.encodeAsHTML()
				if (!args.last) {
					o << wcm.linkMain(node:args.breadcrumbNode, tipusMenu: attrs['tipusMenu'], itemSelected: args.breadcrumbNode.aliasURI.encodeAsHTML()) {
						out << title
					}
				} else {
					o << "<span class=\"last\">${title}</span>"
				}
				return o.toString()
			}
		}
		
		def nodes = lineage
		nodes.each { current ->
			out << body(first:first, last: current.ident() == node.ident(), breadcrumbNode:current)
			first = false
		}
	}
	
	def linkMain = { attrs, body ->
		def ref1 = attrs["tipusMenu"].toString()
		def ref2 = attrs["itemSelected"].toString()
		
		def o = out
		o << "<a href=\"${wcm.createLink(attrs)}?tipusMenu=${ref1}&itemSelected=${ref2}\""
		o << attrs.collect {k, v -> " $k=\"$v\"" }.join('')
		o << '>'
		o << body()
		o << "</a>"
	}
	//END - REV-002
	
Test3_20140716_1239_local: igual que el anterior pero con los colores de seleccionado bien definidos.

TEST4: Se empiza a desarrollar los templates sin parámetros por URL.
PAS_20140718_merlot: basado en el Test4 de local. La página deja márgenes a derecha e izquierda. Tiene letras con degradado en HTML.
Test4_20140718_local: copia de seguridad del space local. Tiene implementada el ocultar el resto de menus pero no funciona bien. Se autodesplegan y se esconden.

PAS_20140721_merlot: Tiene el buscado pero en merlot NO funciona!!!. Tiene márgenes derechos en blanco y ya no utiliza la palabra Portal, sino que usa una variable. Aunque sólo en el menu-desplegable, hay que cambiarlo en todos los sitios que haga falta.
PAS_20140722_merlot: Último space antes de comenzar a cambiar el color de fondo.
PAS_20140722_1400_merlot: Nuevo fondo con colores distintos. A partir de aquí se cambiará el fondo de la pantalla, cambiando ancho y distribución de la misma.
PAS_20140724_1240_merlot: Se han eliminado los menús desplegables y el cuerpo principal comienza a estar "bien" hecho, con div's que separan el footer del contenido etc. Los menús ya no se mueven al seleccionar algo.
PAS_20140725_1355_merlot: El anterior pero actualizado.
PAS_20140729_merlot: Se ven correctamente todos los iconos en IExplorer y Firefox. En IE7, IE8 el botón de Cercar no queda muy alineado.
					 Versiones del día anterior a ésta son copias de seguridad.
PAS_20140731_0915_merlot: Tiene una plantilla para crear contenidos con desplegables en un HTML. El elemento de buscar se agranda al ganar el foco. 
						  Hay que solucionar que al hacer click desaparece el "Cercar..." pero si no se escribe nada al perder el foco no vuelve a aparecer.
PAS_20140801_merlot: Se comienzan a cambiar los estilos de la plantilla de desplegables.
PAS_20140903_merlot: Copia de seguridad.
PAS_20140903_merlot: Tiene un página con dos columnas de desplegables. (Provisió de llocs de treball)
PAS_20140923_merlot: Tiene las migas de pan correctamente. Hay que solucionar que el menú desplegable de dos líneas no se ve bien en IExplorer.
PAS_20140923_1230_merlot: Solucionado lo de los menús desplegables.

VERSIONES BASADAS EN BOOTSTRAP (Se para de desarrollar para SPACE PAS. Bootstrap es la versión en local de PDI merlot)
----------------------------------------------------------------------------------------------------------------------
Bootstrap_20141001_local: Space con el menú de barra estat que se comporta de manera bastante correcta.
Bootstrap_20141002_local: Space que tiene el menú desplegable en formato móvil de manera correcta.
Bootstrap_20141003_local: Space donde se comienza a incluir el busador.
Bootstrap_20141006_local: Space con el apartado de cerca bastante bien hecho.

PDI_20141007_merlot: El portal PDI tiene la misma apariencia que el PAS antiguo.
					 Falta por centrar los elementos y recortarlos en modo móvil.
PDI_20141007_1610_merlot: En modo móvil la barra de estado (INICI) es más pequeña.
PDI_20141008_merlot: Se tienen menús desplegables de 1 y 2 columnas. Aún falta por ajustar el contenido para darle más anchura.
PDI_20141008_1400_merlot: Se ha ajustado el contenido a la rejilla.

(Bootstrap_20141008_local?)
Bootstrap_20141009_local: Space que no contiene scrolls horizontales, márgenes ajustados y las barras de menú se despliegan bien (aparentemente) .Se basa en el Space PDI del día anterior.

PDI_20141009_merlot: Copia de seguridad de un Space que funciona bien para restaurar los fallos en local.
PDI_20141010_merlot: Copia de seguridad del Space existente antes de incorporar los menús con barras horizontales en el móvil.

Test1: copia seg.

Bootstrap_20141010_local: Space en local que contiene las líneas horizontales de los menús para móvil.

Test_casa_20121012: Nunca aprece un scroll bar, y sólo hay que arreglar los espacios entre desplegables para que se puedan pulsar los enlaces en el móvil.

Bootstrap_20141014_local: Tiene la barra de INICI de manera correcta en cualquier resolución. Puede que tenga algún fallo.
Bootstrap_20141014_1645_local: Mejor que el anterior.
Bootstrap_20141014_1730_local: Falta ajustar el buscardor y algunos espacios. En general parece que bien.

Bootstrap_20141015_local: PARECE PERFECTO, tanto en móvil como en web. Falta centrar el buscador entre 400px y 700px aprox y en 767px se descuadra y aparece la barra espaciadora.
						  Posibles arreglos: - Eliminar el titolSelected, porque a veces se quedan 2 títulos iluminados.
											 - Cambiar el tamaño del recuadro clickable.
Bootstrap_20141015_1210_local: Tiene bien alineados siempre los desplegables de 1 columna. El de dos aparece con scroll bar, hay que solucionarlo.
Bootstrap_20141015_1400_local: Tiene la barra de breadcrumb (migas de pan) que desaparece.
Bootstrap_20141016_0830_local: Tiene la página de columnas dobles desplegables arreglada. Se ha tenido que modificar el JS porque los id estaban mal, 
							   emepezaban por una cifra. Ya no hay scroll tampoco, se ha añadido no-scroll-bar a la row de la página HTML.
							   Ya no se descuadra el Contacte y Directori UPC y desparece la barra de scroll. portal-UPC y navbar.info debían realizar
							   el cambio a 767px y no a 768.
							   Mejoras a realizar:
								-Se podría centrar el buscador de manera automática?
								-Que el título en modo móvil aparezca entre el menú y el contenido en lugar de arriba del todo?
Bootstrap_20141016_0830_local: Se ve la página de Informació General bien. Las imágenes no deberían ser respondivas. Hay que ajustar el texto para que
							   no desaparezca una parte por el lado derecho.
Bootstrap_20141017_1115_local: Se tiene algo medianamente aceptable, pero NO definitivo, de la página Informació General. Hay que mejorarla.
							   Se pasa a desarrollar el nuevo menú.
Bootstrap_20141017_1430_local: Nuevo menú desplegable en modo móvil. Lo principal en el template compuesto. El jucatoons se puede perder en próximas versiones, ya que no es modular.
Bootstrap_20141020_0940_local: Tiene la página Informació General hecha de manera correcta. El menú lateral es un desplegable para móviles y estático para web.
Bootstrap_20141020_1430_local: Funcionan bien los desplegables 1 y dos columnas. El siguiente paso en mover de sitio el título, entre el menú y en contenido de la página.
Bootstrap_20141021_0810_local: El título aparece entre el menú desplegable y el contenido.
							   Mejoras que se intentarán abordar:
							    -Reducir y mejorar la estructura de las hojas de estilos.
							    -Cosas como que se oculte el título y las migas de pan por separado cuando se puede ocultar todo el conjunto.
Bootstrap_20141021_0810_local: En Inici e Informació General se muestra el título.
Bootstrap_20141021_1240_local: Informació general y Racó personal hechos de manera correcta. Se ha aligerado un poco el CSS con reglas que no se utilizaban.								
Bootstrap_20141021_1640_local: Tiene las imágenes de Racó personal y de Informació general centradas en modo móvil.
Bootstrap_20141021_1725_local: Buscador centrado. Pero quedan un poco mal colocados los botones.
Bootstrap_20141021_1740_local: Buscador y botones (los 3) centrados.
Bootstrap_20141022_0805_local: El CSS centra los botones de manera correcta. CONTIENE EJEMPLO DE COMO CENTRAR ELEMENTOS EN REJILLAS BOOTSTRAP (P1 Y P2).
Bootstrap_20141022_0805_local: Contiene las letras del menú desplegables algo más grandes y el canto inferior redondeado.
Bootstrap_20141022_1200_local: Contiene el template Inici sin buscador. Se empiezan las pruebas para el pie de página.
							

----------------------
ARREGLOS CÓDIGO GROOVY
----------------------
WcmContentController_20140922: permite que aparezcan en el menú las plantillas fitxa.

*****************************************************************************************************************************************************
------------------------------
Creación:	18-06-2014

Jesús Campos Muñoz
jesus.campos@upc.edu
------------------------------